{"openapi":"3.0.2","info":{"title":"Microservice API Promotion","version":"1.0.0","x-logo":{"url":""}},"paths":{"/health/":{"get":{"tags":["health"],"summary":"Health Check","description":"### Recurso que tem por objetivo verificar a saude da aplicação.\n#### Verificando os status dos seguintes drivers:\n    - Mongo\n    - Redis\n    - Rabit MQ","operationId":"health_check_health__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/promotion/":{"put":{"tags":["promotion"],"summary":"Put","operationId":"put_promotion__put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromotionEntity"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["promotion"],"summary":"Post","operationId":"post_promotion__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromotionEntity"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/promotion/list":{"post":{"tags":["promotion"],"summary":"Post List","operationId":"post_list_promotion_list_post","requestBody":{"content":{"application/json":{"schema":{"title":"Promotions","type":"array","items":{"$ref":"#/components/schemas/PromotionEntity"}}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/promotion/{id_promotion}":{"get":{"tags":["promotion"],"summary":"Get","operationId":"get_promotion__id_promotion__get","parameters":[{"required":true,"schema":{"title":"Id Promotion","type":"string","format":"uuid"},"name":"id_promotion","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/promotion/search":{"post":{"tags":["promotion"],"summary":"Post","operationId":"post_promotion_search_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetPromotionsParameters"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"ELimitType":{"title":"ELimitType","enum":["QUANTITY","BUDGET"],"type":"string","description":"An enumeration."},"EPromotionType":{"title":"EPromotionType","enum":["DISCOUNT","COMBO","PROGRESSIVE","FIXED_COMBO","FREE_GOOD","REWARDS","OVERPRICE"],"type":"string","description":"An enumeration."},"FreeGoodEntity":{"title":"FreeGoodEntity","required":["sku","quantity"],"type":"object","properties":{"sku":{"title":"Sku","type":"string"},"quantity":{"title":"Quantity","type":"integer"}}},"GetPromotionsParameters":{"title":"GetPromotionsParameters","required":["skip","limit"],"type":"object","properties":{"skip":{"title":"Skip","type":"integer"},"limit":{"title":"Limit","type":"integer"},"search":{"title":"Search","type":"string"},"promotion_types":{"type":"array","items":{"$ref":"#/components/schemas/EPromotionType"}},"channels":{"title":"Channels","type":"array","items":{"type":"string"}},"skus":{"title":"Skus","type":"array","items":{"type":"string"}},"accounts":{"title":"Accounts","type":"array","items":{"type":"string"}},"status_enabled":{"title":"Status Enabled","type":"boolean"},"initial_date":{"title":"Initial Date","type":"string","format":"date-time"},"final_date":{"title":"Final Date","type":"string","format":"date-time"},"order_by":{"title":"Order By","type":"string"},"order_asc":{"title":"Order Asc","type":"boolean"}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"ItemEntity":{"title":"ItemEntity","required":["limit_type","skus"],"type":"object","properties":{"min_quantity":{"title":"Min Quantity","type":"integer"},"discount_price_percent":{"title":"Discount Price Percent","type":"number"},"limit":{"title":"Limit","type":"integer","default":99999},"limit_type":{"$ref":"#/components/schemas/ELimitType"},"skus":{"title":"Skus","type":"array","items":{"$ref":"#/components/schemas/SkuEntity"}},"free_goods":{"title":"Free Goods","type":"array","items":{"$ref":"#/components/schemas/FreeGoodEntity"}},"ranges_discounts":{"title":"Ranges Discounts","type":"array","items":{"$ref":"#/components/schemas/RangeDiscountEntity"}}}},"PromotionEntity":{"title":"PromotionEntity","required":["name","promotion_type","channel","exclusive","start_date","end_date","enabled","all_accounts_selected","accounts_ids","items","sales_organizations","states","sales_regions","segments"],"type":"object","properties":{"id":{"title":"Id","type":"string","format":"uuid"},"name":{"title":"Name","type":"string"},"id_region":{"title":"Id Region","type":"string"},"promotion_type":{"$ref":"#/components/schemas/EPromotionType"},"channel":{"title":"Channel","type":"string"},"exclusive":{"title":"Exclusive","type":"boolean"},"start_date":{"title":"Start Date","type":"string","format":"date-time"},"end_date":{"title":"End Date","type":"string","format":"date-time"},"enabled":{"title":"Enabled","type":"boolean"},"all_accounts_selected":{"title":"All Accounts Selected","type":"boolean"},"accounts_ids":{"title":"Accounts Ids","type":"array","items":{"type":"string"}},"items":{"title":"Items","type":"array","items":{"$ref":"#/components/schemas/ItemEntity"}},"sales_organizations":{"title":"Sales Organizations","type":"array","items":{"type":"string"}},"states":{"title":"States","type":"array","items":{"type":"string"}},"sales_regions":{"title":"Sales Regions","type":"array","items":{"type":"string"}},"segments":{"title":"Segments","type":"array","items":{"type":"string"}}}},"RangeDiscountEntity":{"title":"RangeDiscountEntity","required":["from_min","to_max","discount_price_percent"],"type":"object","properties":{"from_min":{"title":"From Min","type":"integer"},"to_max":{"title":"To Max","type":"integer"},"discount_price_percent":{"title":"Discount Price Percent","type":"number"}}},"SkuEntity":{"title":"SkuEntity","required":["required"],"type":"object","properties":{"sku":{"title":"Sku","type":"string"},"fifo_code":{"title":"Fifo Code","type":"string"},"product_category":{"title":"Product Category","type":"string"},"required":{"title":"Required","type":"boolean"}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}}}}